(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();const n={INVALID_CREDENTIALS:"Invalid email or password. Please check your credentials and try again.",NETWORK_ERROR:"Network error. Please try again later.",UNEXPECTED_ERROR:"An unexpected error occurred. Please try again.",SIGNING_IN:"Signing in, please wait",LOGIN_SUCCESSFUL:"Login successful, redirecting",SUCCESS_MESSAGE:"Successfully signed in! Redirecting...",FORM_ERRORS:"Please fix the errors before submitting",PASSWORD_VISIBLE:"Password is now visible",PASSWORD_HIDDEN:"Password is now hidden",SHOW_PASSWORD:"Show password",HIDE_PASSWORD:"Hide password",BUTTON_INCOMPLETE:"Sign in button - form is incomplete",BUTTON_READY:"Sign in",SOCIAL_LOGIN:"Social login with {provider} clicked. In a real app, this would redirect to {provider} OAuth.",FORGOT_PASSWORD:"Forgot password clicked. In a real app, this would open a password reset form.",SIGN_UP:"Sign up clicked. In a real app, this would navigate to the registration page.",LOGIN_SUCCESS_DEMO:"Login successful! In a real app, you would be redirected to the dashboard."},d={ERROR_AUTO_HIDE_TIMEOUT:1e4,REDIRECT_DELAY:1500},a={FORM:"#loginForm",EMAIL_INPUT:"#email",PASSWORD_INPUT:"#password",PASSWORD_TOGGLE:".password-toggle",SUBMIT_BTN:".submit-btn",REMEMBER_CHECKBOX:"#remember",GENERAL_ERROR:"#general-error",SUCCESS_MESSAGE:"#success-message",ANNOUNCER:"#aria-announcer",SOCIAL_BTNS:".social-btn",FORGOT_LINK:".forgot-link",SIGNUP_LINK:".signup-link a",EYE_OPEN:".eye-open",EYE_CLOSED:".eye-closed",SUBMIT_STATUS:"#submit-status"};function c(o){return!o||o.trim()===""?{isValid:!1,message:"Email is required"}:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)?{isValid:!0}:{isValid:!1,message:"Please enter a valid email address"}}function u(o){return!o||o.trim()===""?{isValid:!1,message:"Password is required"}:o.length<6?{isValid:!1,message:"Password must be at least 6 characters long"}:{isValid:!0}}function E(o,e){const t=c(o),s=u(e);return t.isValid&&s.isValid}class h{static async login(e){return new Promise(t=>{setTimeout(()=>{const r=[{email:"test@example.com",password:"password123"},{email:"demo@evilmartians.com",password:"martians2025"}].some(i=>i.email===e.email&&i.password===e.password);t(r?{success:!0,message:"Login successful"}:{success:!1,message:"Invalid email or password"})},1e3)})}}class S{form;emailInput;passwordInput;passwordToggle;submitBtn;rememberCheckbox;generalErrorEl;successMessageEl;announcer;constructor(){this.initializeElements(),this.init()}initializeElements(){this.form=document.querySelector(a.FORM),this.emailInput=document.querySelector(a.EMAIL_INPUT),this.passwordInput=document.querySelector(a.PASSWORD_INPUT),this.passwordToggle=document.querySelector(a.PASSWORD_TOGGLE),this.submitBtn=document.querySelector(a.SUBMIT_BTN),this.rememberCheckbox=document.querySelector(a.REMEMBER_CHECKBOX),this.generalErrorEl=document.querySelector(a.GENERAL_ERROR),this.successMessageEl=document.querySelector(a.SUCCESS_MESSAGE),this.announcer=document.querySelector(a.ANNOUNCER)}init(){this.bindEvents(),this.setupAccessibility(),this.updateButtonState()}bindEvents(){this.form.addEventListener("submit",this.handleSubmit.bind(this)),this.passwordToggle.addEventListener("click",this.togglePassword.bind(this)),this.emailInput.addEventListener("blur",()=>this.handleFieldValidation("email")),this.passwordInput.addEventListener("blur",()=>this.handleFieldValidation("password")),this.emailInput.addEventListener("input",()=>this.handleFieldInput("email")),this.passwordInput.addEventListener("input",()=>this.handleFieldInput("password")),this.bindExternalLinks(),this.setupKeyboardNavigation()}bindExternalLinks(){document.querySelectorAll(a.SOCIAL_BTNS).forEach(s=>{s.addEventListener("click",this.handleSocialLogin.bind(this))}),document.querySelector(a.FORGOT_LINK)?.addEventListener("click",this.handleForgotPassword.bind(this)),document.querySelector(a.SIGNUP_LINK)?.addEventListener("click",this.handleSignUp.bind(this))}handleFieldValidation(e){this.validateField(e),this.updateButtonState()}handleFieldInput(e){this.clearError(e),this.updateButtonState()}setupAccessibility(){this.passwordToggle.addEventListener("keydown",e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.togglePassword())})}setupKeyboardNavigation(){this.rememberCheckbox.addEventListener("keydown",e=>{e.key===" "&&(e.preventDefault(),this.rememberCheckbox.checked=!this.rememberCheckbox.checked)}),document.querySelectorAll(`${a.SOCIAL_BTNS}, ${a.FORGOT_LINK}, ${a.SIGNUP_LINK}`).forEach(e=>{e.addEventListener("keydown",t=>{t.key==="Enter"&&(t.preventDefault(),e.click())})})}updateButtonState(){const e=this.emailInput.value.trim(),t=this.passwordInput.value,s=E(e,t);this.submitBtn.disabled=!s,this.submitBtn.classList.toggle("disabled",!s),this.submitBtn.setAttribute("aria-label",s?n.BUTTON_READY:n.BUTTON_INCOMPLETE)}async handleSubmit(e){e.preventDefault(),this.clearAllErrors();const t=this.validateField("email"),s=this.validateField("password");if(!t||!s){this.announceError(n.FORM_ERRORS);return}await this.processLogin()}async processLogin(){this.setLoadingState(!0),this.announceStatus(n.SIGNING_IN);try{const e={email:this.emailInput.value.trim(),password:this.passwordInput.value,remember:this.rememberCheckbox.checked},t=await h.login(e);t.success?this.handleLoginSuccess():this.handleLoginError(t.message)}catch(e){this.handleLoginError(this.getErrorMessage(e))}finally{this.setLoadingState(!1)}}handleLoginSuccess(){this.showSuccess(n.SUCCESS_MESSAGE),this.announceStatus(n.LOGIN_SUCCESSFUL),setTimeout(()=>{alert(n.LOGIN_SUCCESS_DEMO)},d.REDIRECT_DELAY)}handleLoginError(e){const t=e||n.INVALID_CREDENTIALS;this.showGeneralError(t),this.announceError(`Login failed: ${t}`)}getErrorMessage(e){return e.message.includes("Invalid email or password")?n.INVALID_CREDENTIALS:e.message.includes("network")||e.message.includes("fetch")?n.NETWORK_ERROR:n.UNEXPECTED_ERROR}validateField(e){const s=this[`${e}Input`].value,i=(e==="email"?c:u)(s);return!i.isValid&&i.message?(this.showError(e,i.message),!1):!0}showError(e,t){const s=document.getElementById(e),r=document.getElementById(`${e}-error`);s&&r&&(s.classList.add("error"),s.setAttribute("aria-invalid","true"),r.textContent=`⚠ ${t}`,r.style.display="flex")}showGeneralError(e){this.generalErrorEl&&(this.generalErrorEl.textContent=`⚠ ${e}`,this.generalErrorEl.style.display="block",setTimeout(()=>this.hideGeneralError(),d.ERROR_AUTO_HIDE_TIMEOUT))}hideGeneralError(){this.generalErrorEl&&(this.generalErrorEl.style.display="none",this.generalErrorEl.textContent="")}showSuccess(e){this.successMessageEl&&(this.successMessageEl.textContent=`✓ ${e}`,this.successMessageEl.style.display="block")}hideSuccess(){this.successMessageEl&&(this.successMessageEl.style.display="none",this.successMessageEl.textContent="")}clearError(e){const t=document.getElementById(e),s=document.getElementById(`${e}-error`);t&&s&&(t.classList.remove("error"),t.setAttribute("aria-invalid","false"),s.textContent="",s.style.display="none")}clearAllErrors(){["email","password"].forEach(e=>this.clearError(e)),this.hideGeneralError(),this.hideSuccess()}setLoadingState(e){this.submitBtn.disabled=e,this.submitBtn.classList.toggle("loading",e),this.form.querySelectorAll("input, button").forEach(t=>{const s=t;s!==this.submitBtn&&(s.disabled=e)}),e||this.updateButtonState()}togglePassword(){const e=this.passwordInput.type==="password",t=this.passwordToggle.querySelector(a.EYE_OPEN),s=this.passwordToggle.querySelector(a.EYE_CLOSED);this.passwordInput.type=e?"text":"password",s.style.display=e?"none":"block",t.style.display=e?"block":"none",this.passwordToggle.setAttribute("aria-label",e?n.HIDE_PASSWORD:n.SHOW_PASSWORD),this.announceStatus(e?n.PASSWORD_VISIBLE:n.PASSWORD_HIDDEN)}handleSocialLogin(e){e.preventDefault();const s=e.currentTarget.textContent?.trim()||"",r=n.SOCIAL_LOGIN.replace(/{provider}/g,s);alert(r)}handleForgotPassword(e){e.preventDefault(),alert(n.FORGOT_PASSWORD)}handleSignUp(e){e.preventDefault(),alert(n.SIGN_UP)}announceStatus(e){const t=document.querySelector(a.SUBMIT_STATUS);t&&(t.textContent=e)}announceError(e){this.announcer&&(this.announcer.textContent=e)}}document.addEventListener("DOMContentLoaded",()=>{new S,console.log("Evil Martians Login Form initialized successfully!"),console.log("Test credentials: test@example.com / password123 or demo@evilmartians.com / martians2025")});
//# sourceMappingURL=index-BjvNEG7h.js.map
